#include <iostream>
using namespace std;

int arr[503][503] = { -2100000000 };
int col, row;
const int minotype[19][4][4] = {
	{
		1,1,1,1,
		0,0,0,0,
		0,0,0,0,
		0,0,0,0
	},
	{
		1,0,0,0,
		1,0,0,0,
		1,0,0,0,
		1,0,0,0
	},
	{
		1,1,0,0,
		1,1,0,0,
		0,0,0,0,
		0,0,0,0
	},
	{
		1,0,0,0,
		1,0,0,0,
		1,1,0,0,
		0,0,0,0
	},
	{
		1,1,1,0,
		1,0,0,0,
		0,0,0,0,
		0,0,0,0
	},
	{
		1,1,0,0,
		0,1,0,0,
		0,1,0,0,
		0,0,0,0
	},
	{
		0,0,1,0,
		1,1,1,0,
		0,0,0,0,
		0,0,0,0
	},
	{
		0,1,0,0,
		0,1,0,0,
		1,1,0,0,
		0,0,0,0
	},
	{
		1,0,0,0,
		1,1,1,0,
		0,0,0,0,
		0,0,0,0
	},
	{
		1,1,0,0,
		1,0,0,0,
		1,0,0,0,
		0,0,0,0
	},
	{
		1,1,1,0,
		0,0,1,0,
		0,0,0,0,
		0,0,0,0
	},
	{
		1,0,0,0,
		1,1,0,0,
		0,1,0,0,
		0,0,0,0
	},
	{
		0,1,1,0,
		1,1,0,0,
		0,0,0,0,
		0,0,0,0
	},
	{
		0,1,0,0,
		1,1,0,0,
		1,0,0,0,
		0,0,0,0
	},
	{
		1,1,0,0,
		0,1,1,0,
		0,0,0,0,
		0,0,0,0
	},
	{
		1,1,1,0,
		0,1,0,0,
		0,0,0,0,
		0,0,0,0
	},
	{
		0,1,0,0,
		1,1,0,0,
		0,1,0,0,
		0,0,0,0
	},
	{
		0,1,0,0,
		1,1,1,0,
		0,0,0,0,
		0,0,0,0
	},
	{
		1,0,0,0,
		1,1,0,0,
		1,0,0,0,
		0,0,0,0
	}
};

int getmax(int y, int x, int t) {
	int sum = 0;
	if (t == 4 && y == 2 && x == 2) {
		int a = 1;
	}
	for (int j = y;j < y + 4;j++) {
		for (int i = x;i < x + 4;i++) {
			if (minotype[t][j-y][i-x] == 1) {
				sum += arr[j][i];
			}
		}
	}
	return sum;
}


int main() {
	freopen("input.txt", "r", stdin);
	int maxval=0;
	cin >> col >> row;
	for (int j = 0;j < col;j++) {
		for (int i = 0;i < row;i++) {
			cin >> arr[j][i];
		}
	}
	for (int j = 0;j < col;j++) {
		for (int i = 0;i < row;i++) {
			for (int t = 0;t < 19;t++) {
				int ret = getmax(j, i, t);
				if (ret > maxval) {
					maxval = ret;
				}
			}
		}
	}
	cout << maxval;
	return 0;

}